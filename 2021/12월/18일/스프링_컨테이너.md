
## 스프링 컨테이너
스프링 컨테이너는 XML 기반으로 만들 수 있고, 애너테이션 기반의 자바 설정 클래스로 만들 수 있다.
AppConfig 클래스를 이용해 설정하는 방법은 애너테이션 기반의 자바 설정 클래스로 설정하는 방법이다.

### IoC, DI 컨테이너, 스프링 컨테이너 이게 뭐야?


#### 제어의 역전(Inversion of Control)을 우선 알아보자.
기존 프로그램은 클라이언트 구현 객체가 스스로 필요한 서버 구현 객체를 생성하고, 호출하고 실행했다.
한마디로 프로그램의 흐름을 구현 객체 스스로가 조종했다.

반면에 AppConfig 클래스가 등장한 이후에 구현 객체는 자신의 로직을 실행하는 역할만 담당하면서 제어 흐름을
**외부에서 관리하게 된 것을 제어의 역전(IoC)이라고 한다.**
즉, 외부에서 의존성 주입을 하는 DI(의존관계 주입) 컨테이너, 외부에서 관리하는 IoC 컨테이너, 스프링 컨테이너는 DI 컨테이너라고 부르기도 하고, IoC컨테이너라고 부른다.

**AppConfig 클래스는 IoC 컨테이너이며, DI 컨테이너다.**


#### AppConfig 클래스를 스프링 컨테이너로 만들기 
현재까지 AppConfig 클래스를 사용해서 직접 객체를 생성하고 의존성 주입을 했지만, 이제부터는 스프링 컨테이너를 통해 사용한다. 스프링 컨테이너는 @Configuration 어노테이션이 붙은 AppConfig 클래스를 설정 정보로 사용한다.

@Configuration 어노테이션을 이용해 스프링 컨테이너로 만들고 @Bean 어노테이션을 사용해 스프링 컨테이너에 등록을 한다.
여기서 @Bean 어노테이션이 적힌 메서드를 모두 호출해서 반환된 객체를 스프링 컨테이너에 등록한다. 이렇게 스프링 컨테이너에 등록된 객체를 스프링 빈이라 한다.

### 스프링 컨테이너를 사용하면 좋은 장점이 뭘까? 
이 문제는 스프링 컨테이너에 대한 공부를 더 해보면서 고민해야 할 것 같다. 아직까지는 자바를 이용해 의존성 주입을 해주는 것과 다를게 없어 보여 큰 장점을 보지 못해 작성하지 않았다.


### 스프링 컨테이너 생성 과정

1. 스프링 컨테이너 생성
   1. new AnnotationConfigApplicationContext(AppConfig.class)
   2. 스프링 컨테이너를 생성할 때, AppConfig 클래스와 같은 구성 정보를 지정해야 한다.
2. 스프링 빈 등록
   1. @Bean 애너테이션을 붙여 파라미터로 넘어온 설정 클래스 정보를 사용해 스프링 빈을 등록한다.
   2. 빈 이름은 임의로 부여할 수 있다.
      @Bean(name="blaService")
   3. **주의 사항**
      > 스프링 빈 이름은 항상 서로 다른 이름이어야 한다. 같은 이름을 부여하면, 기존 빈은 덮어버리거나 실행에
오류가 발생한다.
3. 스프링 빈 의존관계 설정 준비
4. 스프링 빈 의존관계 설정 완료
   1. 동적인 의존 관계
   2. 정적인 의존 관계
   3. 스프링 컨테이너는 설정 정보를 참고해서 의존 관계를 주입(DI)한다.
   4. 단순히 자바 코드를 호출하는 것 같지만 차이가 존재한다.
#### 참고
스프링은 빈을 생성하고 의존관계를 주입하는 단계로 나뉘어져 있다. 그런데 자바 코드로 스프링 빈을 등록하면
생성자를 호출하면서 의존관계 주입도 한번에 처리된다. 
