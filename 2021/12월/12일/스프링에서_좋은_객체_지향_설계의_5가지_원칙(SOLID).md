
## 스프링에서 좋은 객체 지향 설계의 5가지 원칙(SOLID)


[스프링 핵심 원리 - 기본편 - 인프런 | 강의](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8/dashboard)


처음에는 스프링의 장점인 객체 지향 설계를 잘해보고 싶다는 생각을 해 스프링 강의를 찾아보고 있었다. 그렇게 인프런에 있는 김영한 님의 스프링 강의를 들으면서 객체 지향 설계 5가지 원칙을 배워 적용하고 싶었고, 5가지 원칙을 적용하고 활용하기 위해서는 꼼꼼하게 알 필요가 있다고 생각해 블로그 포스팅을 했다.

### 좋은 객체 지향 설계의 5가지 원칙 - SOLID

-   SRP - 단일 책임 원칙
-   OCP - 개방-폐쇄 원칙
-   LSP - 리스코프 치환 원칙
-   ISP - 인터페이스 분리 원칙
-   DIP - 의존 관계 역전 원칙

아래는 위의 5가지 원칙을 정리해봤다.

### SRP - 단일 책임 원칙

> 한 클래스는 하나의 책임만 가져야 한다

단일 책인 원칙에서 중요한 기준은 변경이다. 변경이 있을 때, 파급 효과가 적으면 단일 책임 원칙을 잘 따른 것이다. 객체의 생성과 사용을 분리한다면 파급 효과가 적도록 설계할 수 있다.

스프링에서 이용한다면 구현 객체를 생성해 객체를 생성하고 역할을 명시한 인터페이스를 사용하도록 하는 것이다.

### OCP - 개방-폐쇄 원칙

> 소프트웨어 요소의 확장에는 열려 있으나 변경에는 닫혀 있어야 한다.

새로운 기능을 구현하는 객체를 만들기 위해서는 인터페이스를 상속받는 새로운 클래스를 하나 만들어 구현하게 만든다. 역할과 구현의 분리를 통해 확장에는 열려 있게 만들고, 변경에는 닫혀 있게 만들 수 있다. 하지만 구현 객체를 변경하려면 클라이언트 코드를 변경해야 하고, 다형성 원칙으로 OCP 원칙을 전부 지킬 수 없다.

내가 생각하는 가장 중요한 원칙 중 하나이다. 스프링에 원래 생성되어 있는 기능들의 변경을 하지 않고, 새로운 객체를 생성함으로 확장에는 자유로워야 한다. 다형성의 원칙으로는 OCP 원칙을 다 지킬 수 없는 부분은 스프링의 DI와 DI 컨테이너를 이용해 단점을 보완할 수 있다.

### LSP - 리스코프 치환 원칙

> 프로그램 객체는 프로그램의 정확성을 깨뜨리지 않으면서 하위 타입의 인스턴스로 바꿀 수 있어야 한다.

다형성에서 하위 클래스는 인터페이스 규약을 다 지켜야 한다는 것이다. 다형성을 지원하기 위한 원칙, 인터페이스로 구현한 구현체를 믿고 사용하려면 이 원칙이 필요하다. 

객체 지향 설계를 위해서 기능을 구현한 인터페이스의 신뢰가 필요하다. 그렇기에 단순히 컴파일에 성공하는 것을 넘어서 해당 인스턴스 설계 의도대로 움직이고 있는지를 확인하는 LSP 원칙을 잘 지키고 있는지 확인할 필요가 있다.

### ISP - 인터페이스 분리 원칙

> 특정 클라이언트를 위한 인터페이스 여러 개가 범용 인터페이스 하나보다 낫다.

인터페이스 분리 원칙은 클라이언트가 자신이 이용하지 않는 메서드에 의존하지 않아야 한다는 원칙이다. 인터페이스 분리 원칙은 범용적인 큰 덩어리 인터페이스 분리 원칙은 큰 덩어리의 인터페이스들을 구체적이고 작은 단위들로 분리시킴으로써 특정 클라이언트들이 꼭 필요한 메서드들만 이용할 수 있게 한다.

스프링이나 어느 객체 지향 설계를 위해서는 모든 기능을 포괄하는 범용 인터페이스보다 각각의 특징을 살린 특정 클라이언트들을 위한 인터페이스를 여러 개 만드는 것이 좋다고 생각한다.

### DIP - 의존 관계 역전 원칙

> 추상화에 의존해야지 구체화에 의존하면 안 된다.

상위 계층이 하위 계층에 의존하는 전통적인 의존관계를 역전시킴으로 상위 계층이 하위 계층의 구현으로부터 독립되게 할 수 있다. 즉, 상위 모듈은 하위 모듈에 의존해서는 안되며 상위 모듈과 하위 모듈 모두 추상화에 의존해야 한다. 그리고 추상화는 세부 사항에 의존해서는 안되며 세부 사항이 추상화에 의존하게 만들어야 한다.

스프링에서 의존 관계 역전 원칙을 이용하기 위해서 인터페이스가 구현 클래스에 의존하지 않고 구현 클래스가 인터페이스에 의존해야 한다는 의미이다. 즉, 상위 개념인 인터페이스가 하위 개념인 구현 클래스에 의존하지 않도록 설계해야 하며, 인터페이스가 구현 객체의 구현으로부터 독립되게 설계해야 한다. 

객체 지향의 핵심은 다형성이지만, 다형성 만으로는 객체 지향 프로그램을 쉽게 개발할 수 없다. 구현 객체를 반영할 때, 클라이언트 코드도 함께 변경된다. 다형성 만으로는 OCP, DIP를 지키기 힘들기에 다른 방법을 강구해야 한다. 위와 같은 OCP와 DIP를 지키기 위해 스프링에서는 의존성 주입과 DI컨테이너와 같은 기능들을 제공한다. 객체 지향 설계를 완벽하게 도와주는 기능들을 스프링에서 제공한다.

스프링을 완벽하게 제어하고 스프링의 장점을 잘 사용하기 위해서는 SOLID의 원칙을 잘 알고 다형성에 대한 기본적인 지식이 필요하다고 생각해 블로그 글을 작성했다.